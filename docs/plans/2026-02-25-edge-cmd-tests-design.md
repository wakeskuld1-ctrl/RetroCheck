# Edge CMD 补充测试设计

**目标**
- 补充 cmd 过期边界、非法断点前缀容错、坏包重复读取的测试覆盖。

**范围**
- 仅新增测试与最小实现调整，不改变既有数据结构与外部接口签名。

**核心设计**
- **时间边界**：使用 `SystemTime::now()` 生成 `expire_at_ms`，覆盖“未来可读”与“边界不可读”两类情形。
- **非法断点容错**：当 `last_key` 不以 `cmd:` 开头时，视为 `None`，保证断点异常不阻塞重放。
- **坏包重复读取**：坏包第一次读取时删除，第二次读取仍返回 `None`，保证删除幂等。

**测试策略**
- 追加 3 个测试用例到 `tests/edge_cmd.rs`，复用现有 `EdgeStore` 接口。

**风险与对策**
- **时钟漂移**：通过“未来过期时间”测试降低误判风险。
- **断点污染**：容错策略保证重放不被错误断点阻塞。
